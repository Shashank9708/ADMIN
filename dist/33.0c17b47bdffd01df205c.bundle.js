(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{579:function(e,t,n){"use strict";n.r(t),n.d(t,"LoginContainer",function(){return y}),n.d(t,"Login",function(){return s});var t=n(1),o=n.n(t),t=n(17),r=n(364),a=n(28),s=function(e){return o.a.createElement("section",{className:"starts"},o.a.createElement("div",{className:"container"},o.a.createElement("h2",{className:"heading"},"Welcome!"),o.a.createElement("a",{className:"logoimg"},o.a.createElement("img",{src:"src/assets/img/logo1.jpg"})),o.a.createElement("h3",{className:"heading1"},"ARK"),o.a.createElement("div",{className:"row"},e.error_message&&o.a.createElement(r.a,{bsStyle:"danger"},e.error_message),o.a.createElement("div",{className:"col-md-7"},o.a.createElement("div",{className:"group"},o.a.createElement("div",{className:e.payload.userValidate.contact_no.isValid?"form-group":"form-group has-error"},o.a.createElement("input",{type:"text",name:"contact_no",onChange:e.handle_input_change,placeholder:"Username",value:e.payload.contact_no,className:"form-group"}),o.a.createElement("span",{className:"help-block"},e.payload.userValidate.contact_no.message)),o.a.createElement("div",{className:e.payload.userValidate.password.isValid?"form-group password-field":"form-group password-field has-error"},o.a.createElement("input",{type:"password",name:"password",onChange:e.handle_input_change,placeholder:"*******",onKeyDown:e.handle_enter_press_submit,className:"form-group"}),o.a.createElement("span",{className:"help-block"},e.payload.userValidate.password.message))),o.a.createElement(a.b,{className:"text1",to:"/forgotpassword"},"Forgot Password?")),o.a.createElement("div",{className:"col-md-9"},o.a.createElement("button",{disabled:e.submitted?"disabled":"",className:"btn-s green text-btn",onClick:e.handle_login_submit},e.submitted?"Please Wait..":"Login")))))},i=n(87),c=n(98),l=n(20);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach(function(e){m(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=_(n);return e=r?(e=_(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==u(e)&&"function"!=typeof e?g(t):e}}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}new(n(27).a);n=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(a,o.a.Component);var e,t,n,r=b(a);function a(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(e=r.call(this,e)).state={login:{user:{contact_no:"",password:"",device_id:"FCMToken"},userValidate:{contact_no:{isValid:!0,message:""},password:{isValid:!0,message:""}}}},e.handle_input_change=e.handle_input_change.bind(g(e)),e.handle_login_submit=e.handle_login_submit.bind(g(e)),e.handle_enter_press_submit=e.handle_enter_press_submit.bind(g(e)),e}return e=a,(t=[{key:"componentDidMount",value:function(){(0,this.props.dispatch)(i.s.updateState())}},{key:"handle_input_change",value:function(e){var t=e.target,n=t.name,r=t.value,e=this.state.login.user,t=this.state.login.userValidate;this.setState({login:{userValidate:d(d({},t),{},m({},n,{isValid:!0,message:""})),user:d(d({},e),{},m({},n,r))}})}},{key:"handle_enter_press_submit",value:function(e){"Enter"==e.key&&this.handle_login_submit()}},{key:"handle_login_submit",value:function(){var e,t;c.n.isLoginValid(this)&&(e=this.props.dispatch,t=this.state.login.user,e(i.s.loginSubmit(t)))}},{key:"componentDidUpdate",value:function(){this.props.authenticated&&!l.utilityHelper.isObjectEmpty(this.props.user)&&(0===this.props.user.role?this.props.history.push("/dashboard"):this.props.history.push("/ddashboard"))}},{key:"render",value:function(){return o.a.createElement("div",{className:""},o.a.createElement(s,{submitted:this.props.submitted,error_message:this.props.error_message,handle_login_submit:this.handle_login_submit,handle_input_change:this.handle_input_change,handle_enter_press_submit:this.handle_enter_press_submit,payload:this.state.login}))}}])&&f(e.prototype,t),n&&f(e,n),a}();var y=Object(t.b)(function(e){var t=e.userLogin;return{is_login_done:t.is_login_done,submitted:t.submitted,error_message:t.error_message,user:e.session.user,authenticated:e.session.authenticated}})(n)}}]);